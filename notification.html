<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Notifications ‚Äî Jayvee Hall of Mansion</title>
  <link rel="stylesheet" href="index.css">
</head>
<body>
  <main class="container">
    <header class="header">
      <a class="brand" href="home.html"><img src="logo.jpg" alt="logo"><div><h1>JAYVEE HALL OF MANSION</h1></div></a>
      <div class="nav">
        <a href="home.html">HOME</a>
        <a href="room.html">ROOM</a>
        <a href="cart.html">CART</a>
        <a href="message.html">MESSAGE</a>
        <a href="notification.html" class="active">NOTIFICATION</a>
        <a href="adminpanel.html">ADMIN</a>
        <button class="icon-btn" id="menuBtn">‚ò∞</button>
      </div>
    </header>

    <section class="card">
      <h3>Your Notification List</h3>
      <p class="small">This is where booking notifications and statuses appear.</p>
      <div id="notifArea"></div>
    </section>
  </main>

  <aside class="side-menu" id="sideMenu">
    <div style="display:flex;justify-content:space-between;align-items:center">
      <strong>Connect</strong>
      <button class="icon-btn" id="closeMenu">‚úï</button>
    </div>
    <div class="socials">
      <a href="https://www.facebook.com/JaysGumcar" target="_blank">üîµ Facebook</a>
      <a href="https://www.instagram.com/JaysGumcar" target="_blank">üì∏ Instagram</a>
      <a href="https://www.thread.com/JaysGumcar" target="_blank">üßµ Thread</a>
      <a href="mailto:jayveecaringal07@gmail.com" target="_blank">‚úâÔ∏è Email</a>
      <a href="https://www.telegram.com/JaysGumcar" target="_blank">üì® Telegram</a>
      <a href="About.html">‚ÑπÔ∏è About</a>
    </div>
  </aside>

  <footer class="footer">
    <div class="container">
      <div class="small-muted">Notifications include booking approvals, rejections, and generated access codes.</div>
      <div class="kv">JHOM Notifications</div>
    </div>
  </footer>

  <script>
    document.getElementById('menuBtn').addEventListener('click', ()=> document.getElementById('sideMenu').classList.add('open'));
    document.getElementById('closeMenu').addEventListener('click', ()=> document.getElementById('sideMenu').classList.remove('open'));

    function renderNotifs(){
      const area = document.getElementById('notifArea');
      const bookings = JSON.parse(localStorage.getItem('bookings')||'[]');
      if(!bookings.length){ area.innerHTML='<div class="kv">No notifications yet.</div>'; return;}
      area.innerHTML = bookings.slice().reverse().map(b=>`
        <div class="card" style="margin-bottom:10px">
          <div style="display:flex;justify-content:space-between;align-items:center">
            <div>
              <strong>${b.name}</strong>
              <div class="kv">${b.room.name} ‚Ä¢ Room #${b.room.id}</div>
            </div>
            <div class="kv">${b.date}</div>
          </div>
          <div style="margin-top:8px">
            <div class="kv">Price: ‚Ç± ${Number(b.room.price).toLocaleString()}</div>
            <div class="kv">Status: <strong>${b.status}</strong></div>
            ${b.status==='Approved' ? `<div class="kv">Access Pin Code: <strong>${b.pin||'‚Äî'}</strong></div>` : ''}
          </div>
        </div>
      `).join('');
    }

    renderNotifs();
  </script>
</body>
</html>
